{"version":3,"sources":["components/ToastAlert.js","contexts/ToastContext.js","service/FetchService.js","contexts/AuthContext.js","components/DelayLink.js","components/MenuButton.js","components/Header.js","components/Menu.js","components/Loader.js","components/Login.js","components/HeatingBlock.js","components/Heating.js","components/HeatingSettings.js","components/ListItem.js","components/TaskBlock.js","components/AddNew.js","components/Tasks.js","components/ShoppingListBlock.js","components/Shopping.js","components/Cams.js","components/RecipeBlock.js","components/PlusButton.js","hooks/input-hook.js","components/AreYouSure.js","components/Recipes.js","components/Settings.js","App.js","index.js"],"names":["ToastItem","t","toastDispatch","renderItem","toastRef","useRef","useEffect","setTimeout","toastDiv","current","classList","toggle","type","REMOVE","payload","id","className","ref","content","role","aria-label","onClick","Toast","toast","useToastContext","toastContainer","map","ToastContext","createContext","initialState","ADD","toastReducer","state","action","Date","filter","ToastProvider","props","useReducer","toastData","Provider","value","children","createPortal","document","body","useContext","apiBaseUrl","url","method","authState","setFetchData","a","headers","Headers","token","fetchInit","fetch","then","res","status","Error","json","data","catch","e","console","log","FetchAuthService","AuthContext","React","isAuthenticated","localStorage","getItem","reducer","setItem","JSON","stringify","access_token","clear","DelayLink","delay","onDelayStart","onDelayEnd","replace","to","rest","timeout","history","useHistory","location","useLocation","clearTimeout","pathname","defaultPrevented","preventDefault","push","defaultProps","MenuButton","icon","route","Header","text","back","settings","MenuScreen","Loader","classname","Login","authDispatch","useState","username","password","isSubmitting","errorMessage","setData","handleInputChange","event","target","name","form","onSubmit","evt","formData","FormData","resJson","error","message","statusText","placeholder","onChange","HeatingBlock","indoor_temp","outdoor_temp","on","program_on","info","setInfo","setError","loading","setLoading","colour","setColour","response","prevData","handleSwitch","prevInfo","GetInfo","interval","setInterval","UpdateInfo","clearInterval","style","color","weather","checked","Heating","HeatingSettings","on_1","off_1","on_2","off_2","setSettings","change","setChange","getSettings","isSubscribed","handleTimeChange","PostSettings","min","max","ListItem","item","deleteItem","farCheckCircle","deleteIcon","setDeleteIcon","itemRef","scrollIntoView","textDecoration","faCheckCircle","onDoubleClick","position","animation","TaskBlock","tasks","DeleteFunc","theirTasks","task","AddNewItem","handleSubmit","newItem","setNewItem","placeholderText","options","setID","disabled","handleOptionChange","val","htmlFor","required","Tasks","names","setTasks","newTask","setNewTask","iDState","setIDState","arr_diff","a1","a2","diff","i","length","k","addTask","hm_id","taskCheck","deleteTask","prevTasks","x","finally","AddFunc","ShoppingListBlock","list","index","item_name","Shopping","setList","addItem","Cams","src","alt","RecipeBlock","setCurrent","meal_name","ingredients","notes","farStickyNote","PlusButton","callback","useInput","initialValue","setValue","reset","bind","AreYouSure","setShown","Recipes","currentRecipe","setCurrentRecipe","newRecipe","setNewRecipe","bindMealName","resetMealName","bindIngredients","resetIngredients","bindNotes","resetNotes","sure","setSure","recipeRef","getRecipes","useCallback","handleDelete","Settings","App","authReducer","initialAuthState","isLoading","setIsLoading","token_type","exact","path","component","window","href","library","add","faCog","faClock","faPizzaSlice","faFireAlt","faShoppingCart","faRoute","faMusic","faTasks","faMoneyBillWave","faArrowLeft","faTimes","faVideo","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.90185b0a.chunk.js","sourcesContent":["import React, {useEffect, useRef} from 'react';\nimport {useToastContext, REMOVE} from '../contexts/ToastContext';\n\nexport const ToastItem = ({t, toastDispatch, renderItem}) => {\n\n  const toastRef = useRef(null)\n\n  useEffect(() => {\n    const removeSelf = () => {\n      const toastDiv = toastRef.current\n      if (toastDiv) {\n        toastDiv.classList.toggle('fade-out')\n        setTimeout(() => toastDispatch({type: REMOVE, payload: {id: t.id}}), 1000);\n      }\n    }\n    setTimeout(removeSelf, 2500)\n    // return () => clearTimeout(timeout)\n  }, [t.id, toastDispatch])\n\n  return (\n      <div className={`toast-container-item ${t.type ? t.type : 'success'}`} key={t.id} ref={toastRef}>\n        <div className=\"toast-text\">\n          {renderItem(t.content)}\n        </div>\n        <div\n            role=\"img\"\n            aria-label=\"close toast\"\n            className=\"toast-close\"\n            onClick={() => toastDispatch({type: REMOVE, payload: {id: t.id}})}\n        >\n          &times;\n        </div>\n      </div>\n  )\n}\n\nexport default function Toast({toast}) {\n  const {toastDispatch} = useToastContext();\n  const toastContainer = useRef()\n\n  function renderItem(content) {\n    if (typeof content === 'function') {\n      return content();\n    } else {\n      return content;\n    }\n  }\n\n  return (\n      <div className=\"toast\">\n        <div className=\"toast-container\" ref={toastContainer}>\n          {toast.map(t => {\n            return (\n                <ToastItem t={t} toastDispatch={toastDispatch} renderItem={renderItem} key={t.id}/>\n            );\n          })}\n        </div>\n      </div>\n  );\n}\n","import React, { createContext, useReducer, useContext } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Toast from \"../components/ToastAlert\";\n\nexport const ToastContext = createContext();\n\nconst initialState = [];\n\nexport const ADD = \"ADD\";\nexport const REMOVE = \"REMOVE\";\nexport const REMOVE_ALL = \"REMOVE_ALL\";\n\nexport const toastReducer = (state, action) => {\n  switch (action.type) {\n    case ADD:\n      return [\n        ...state,\n        {\n          id: +new Date(),\n          content: action.payload.content,\n          type: action.payload.type\n        }\n      ];\n    case REMOVE:\n      return state.filter(t => t.id !== action.payload.id);\n    case REMOVE_ALL:\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport const ToastProvider = props => {\n  const [toast, toastDispatch] = useReducer(toastReducer, initialState);\n  const toastData = { toast, toastDispatch };\n  return (\n    <ToastContext.Provider value={toastData}>\n      {props.children}\n\n      {createPortal(<Toast toast={toast} />, document.body)}\n    </ToastContext.Provider>\n  );\n};\n\nexport const useToastContext = () => {\n  return useContext(ToastContext);\n};\n","import {ADD} from \"../contexts/ToastContext\";\n\nexport const apiBaseUrl = 'http://localhost:8000'   // server url\n\nasync function FetchAuthService(url,\n                                method,\n                                authState,\n                                setFetchData,\n                                body = null,\n                                toastDispatch = null) {\n  const headers = new Headers({\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${authState.token}`\n  })\n  let fetchInit = {headers, method}\n  if (body) {\n    fetchInit = {\n      ...fetchInit,\n      body: body\n    }\n  }\n  await fetch(apiBaseUrl + url, fetchInit)\n      .then((res) => {\n        if (res.status !== 200) {\n          if (toastDispatch) {\n            toastDispatch({\n              type: ADD,\n              payload: {\n                content: 'You are not authorised to do that!',\n                type: 'danger'\n              }\n            });\n          }\n          throw new Error('Bad response')\n        } else {\n          return res.json()\n        }\n      })\n      .then(data => {\n        setFetchData(data)\n      }).catch(e => console.log(e));\n}\n\nexport default FetchAuthService;","import React from 'react'\nimport {apiBaseUrl} from \"../service/FetchService\";\n\nexport const AuthContext = React.createContext();\n\n\nexport const initialState = {\n    isAuthenticated: false,\n    // user: null,\n    token: localStorage.getItem('token'),\n    apiBaseUrl: apiBaseUrl,\n};\n\nexport const reducer = (state, action) => {\n    switch (action.type) {\n        case \"LOGIN\":\n            // localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n            localStorage.setItem(\"token\", JSON.stringify(action.payload.access_token));\n            return {\n                ...state,\n                isAuthenticated: true,\n                // user: action.payload.user,\n                token: action.payload.access_token\n            };\n        case \"LOGOUT\":\n            localStorage.clear();\n            return {\n                ...state,\n                isAuthenticated: false,\n                // user: null\n            };\n\n        default:\n            return state;\n    }\n};","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\n\n// Functional link component which delays page navigation\nexport const DelayLink = props => {\n  const { delay, onDelayStart, onDelayEnd, replace, to, ...rest } = props;\n  let timeout = null;\n  let history = useHistory();\n  let location = useLocation();\n\n  useEffect(() => {\n    return () => {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n    };\n  }, [timeout]);\n\n  const handleClick = e => {\n    // if trying to navigate to current page stop everything\n    if (location?.pathname === to) return;\n\n    onDelayStart(e, to);\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    e.preventDefault();\n\n    timeout = setTimeout(() => {\n      if (replace) {\n        history.replace(to);\n      } else {\n        history.push(to);\n      }\n      onDelayEnd(e, to);\n    }, delay);\n  };\n\n  return <Link {...rest} to={to} onClick={handleClick} />;\n};\n\nDelayLink.propTypes = {\n  // Milliseconds to wait before registering the click.\n  delay: PropTypes.number,\n  // Called after the link is clicked and before the delay timer starts.\n  onDelayStart: PropTypes.func,\n  // Called after the delay timer ends.\n  onDelayEnd: PropTypes.func,\n  // Replace history or not\n  replace: PropTypes.bool,\n  // Link to go to\n  to: PropTypes.string\n};\n\nDelayLink.defaultProps = {\n  replace: false,\n  delay: 0,\n  onDelayStart: () => {},\n  onDelayEnd: () => {}\n};\n\nexport default DelayLink;","import React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport DelayLink from \"./DelayLink\";\n\n\nexport const MenuButton = ({icon, route}) => {\n    return (\n        <DelayLink to={route} delay={100} className=\"menuBtn\">\n            <FontAwesomeIcon icon={icon}/>\n        </DelayLink>\n    );\n};\n","import * as React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {Link} from \"react-router-dom\";\n\n\nexport const Header = ({text, back, settings}) => {\n    return (\n        <div className=\"Header\">\n            <nav className=\"header-buttons flex-row-between container\">\n                {/*<div className=\"grid grid-cols-3 w-full mt-5\">*/}\n                <div className=\"flex-row-center\">\n                    {back ?\n                        <Link to={back}><FontAwesomeIcon icon=\"arrow-left\" className=\"headerBtn\"/></Link> : ''}</div>\n\n                <div className=\"flex-row-center\">\n                    {settings ?\n                        <Link to={settings}><FontAwesomeIcon icon=\"cog\" className=\"headerBtn\"/></Link>\n                        : ''}\n                </div>\n                {/*</div>*/}\n            </nav>\n            <div className=\"header-text\">\n                <h1>\n                    {text}\n                </h1>\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\nimport {MenuButton} from './MenuButton';\nimport {Header} from \"./Header\";\n\nconst MenuScreen = () => {\n    return (\n        <>\n            <Header text=\"smarthome.app\" settings={'/config'}/>\n            <div className=\"container flex-col-center\">\n                <nav className=\"Menu-buttons grid-3\">\n                    <MenuButton\n                        route=\"/heating\"\n                        icon=\"fire-alt\"/>\n                    <MenuButton\n                        route=\"/tasks\"\n                        icon=\"tasks\"/>\n                    <MenuButton\n                        route=\"/shopping\"\n                        icon=\"shopping-cart\"/>\n                    <MenuButton\n                        route=\"/map\"\n                        icon=\"route\"/>\n                    <MenuButton\n                        route=\"/cam\"\n                        icon=\"video\"/>\n                    <MenuButton\n                        route=\"/recipes\"\n                        icon=\"pizza-slice\"/>\n                </nav>\n            </div>\n        </>\n    );\n};\n\nexport default MenuScreen;","import React from 'react';\n\nconst Loader = ({classname='Loader'}) => {\n  return (\n      <div className={classname}>\n        <div className=\"lds-ring\">\n          <div/>\n          <div/>\n          <div/>\n          <div/>\n        </div>\n      </div>\n  );\n};\n\nexport default Loader;","import React, {useRef, useContext, useState} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Loader from \"./Loader\";\n\nconst Login = () => {\n    const {authState, authDispatch} = useContext(AuthContext)\n\n    const initialState = {\n        username: \"\",\n        password: \"\",\n        isSubmitting: false,\n        errorMessage: null\n    };\n\n    const [data, setData] = useState(initialState);\n    const handleInputChange = event => {\n        setData({\n            ...data,\n            [event.target.name]: event.target.value\n        });\n    };\n    const form = useRef(null)\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        setData({\n            ...data,\n            isSubmitting: true,\n            errorMessage: null\n        });\n        let formData = new FormData(form.current)\n        fetch(`${authState.apiBaseUrl}/token/`,\n            {\n                method: 'POST',\n                body: formData\n            }).then(res => {\n            if (res.status === 200) {\n                return res.json();\n            }\n            throw res;\n        })\n            .then(resJson => {\n                authDispatch({\n                    type: \"LOGIN\",\n                    payload: resJson\n                });\n            })\n            .catch(error => {\n                setData({\n                    ...data,\n                    isSubmitting: false,\n                    errorMessage: error.message || error.statusText\n                });\n            });\n    };\n\n    return (\n        <form ref={form} onSubmit={handleSubmit} className={\"Login-form\"}>\n            <div className=\"form-control\">\n                <input name=\"username\" type=\"text\"\n                       placeholder=\"Username\"\n                       value={data.username}\n                       onChange={handleInputChange}\n                       className={\"timeInput text-center\"}\n                />\n                <input name=\"password\" type=\"password\" placeholder=\"Password\"\n                       value={data.password}\n                       onChange={handleInputChange}\n                       className={\"timeInput text-center\"}/>\n            </div>\n            <input type=\"submit\" value=\"Sign In\"\n                   className={\"btn\"}/>\n            {data.isSubmitting ? <Loader /> : ''}\n        </form>\n    )\n};\n\nexport default Login;","import React, {useEffect, useState} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {useToastContext, ADD} from \"../contexts/ToastContext\";\n// import FetchAuthService from '../service/FetchService';\n\n\nconst HeatingBlock = ({props}) => {\n  const initialState = {\n    indoor_temp: '',\n    outdoor_temp: '',\n    on: false,\n    program_on: false\n  }\n  const {authState} = React.useContext(AuthContext);\n  const {toastDispatch} = useToastContext()\n  const [info, setInfo] = useState(initialState)\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [colour, setColour] = useState('var(--primary-light)')\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${authState.token}`\n  }\n\n  async function GetInfo() {\n    setLoading(true);\n    await fetch(`${authState.apiBaseUrl}/heating/info/`).then(response =>\n        response.json().then((data) => {\n          if (error) {\n            setError(null)\n          }\n          setInfo(data);\n        })).catch(e => setError(e)).then(() => setLoading(false));\n  }\n\n  async function UpdateInfo() {\n    await fetch(`${authState.apiBaseUrl}/heating/info/temperature/`).then(response =>\n        response.json().then((data) => {\n          setError(null)\n          data.on ? setColour('firebrick') : setColour('var(--primary-light)');\n          setInfo(prevData => ({\n            ...prevData,\n            indoor_temp: data.indoor_temp,\n            on: data.on,\n            program_on: data.program_on\n          }));\n        })).catch((e) => setError(e));\n  }\n\n  const handleSwitch = async (e) => {\n    setInfo((prevInfo) => ({\n      ...prevInfo,\n      program_on: !info.program_on\n    }))\n    await fetch(`${authState.apiBaseUrl}/heating/on_off/`,\n        {headers}\n    )\n        .then(response =>\n            response.json().then((data) => {\n              if (response.status !== 200) {\n                toastDispatch({\n                  type: ADD,\n                  payload: {\n                    content: 'You are not authorised to do that!',\n                    type: 'danger'\n                  }\n                });\n              } else {\n                if (info.program_on !== data.program_on) {\n                  setInfo((info) => ({\n                    ...info,\n                    program_on: data.program_on\n                  }));\n                }\n              }\n            }));\n  }\n\n  useEffect(() => {\n    GetInfo().catch(e=>setError(e));\n    const interval = setInterval(() => {\n      UpdateInfo().catch(e=>setError(e));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return loading ? <div className=\"Heating-display\">\n        <div className=\"lds-ripple mt-10\">\n          <div/>\n          <div/>\n        </div>\n      </div> :\n      <div className=\"Heating-display\">\n        {error ? <p>Can't update heating info: ${error.message}</p> : ''}\n        <div className=\"Display-screen\">\n          <div className=\"Indoor-temp\" style={{color: colour}}>{info.indoor_temp}</div>\n          <div className=\"Other-info\"><span\n              className=\"value\">{info.outdoor_temp} outdoors</span></div>\n          <div className=\"Other-info\"><span\n              className=\"value\">{info.weather}</span></div>\n        </div>\n        <div className=\"flex-row-center\"><label className=\"switch\">\n          <input type=\"checkbox\" name=\"on_off\" onChange={handleSwitch} checked={info.program_on}/>\n          <span className=\"slider round\"/>\n        </label></div>\n      </div>;\n}\n\n\nexport default HeatingBlock;","import React from 'react';\nimport {Header} from './Header';\nimport HeatingBlock from './HeatingBlock';\n\n\nconst Heating = () => {\n\n    return (\n        <>\n            <Header text={'Central Heating'} back={'/'} settings={'/settings'}/>\n            <div className=\"container flex-col-center\">\n                <HeatingBlock/>\n            </div>\n        </>\n    );\n};\n\nexport default Heating;","import React, {useEffect, useState} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {Header} from \"./Header\";\nimport {useToastContext, ADD} from \"../contexts/ToastContext\";\nimport Loader from \"./Loader\";\n\n\nconst HeatingSettings = () => {\n\n    const initialState =\n        {\n            target: 20,\n            on_1: '',\n            off_1: '',\n            on_2: '',\n            off_2: '',\n            program_on: true\n        }\n    const [settings, setSettings] = useState(initialState)\n    const [change, setChange] = useState(false)\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(true)\n    const {authState} = React.useContext(AuthContext);\n    const {toastDispatch} = useToastContext()\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authState.token}`\n    }\n\n    const getSettings = async (isSubscribed) => {\n        setLoading(true);\n        return await fetch(`${authState.apiBaseUrl}/heating/conf/`, {\n            headers,\n            method: 'GET'\n        })\n\n            .then(res => {\n                if (res.status >= 400) {\n                    throw new Error(\"Bad response from server\")\n                }\n                res.json()\n                    .then(data => {\n                        if (isSubscribed) {\n                        setLoading(false)\n                        setSettings(data)\n                        return data\n                        }\n                    })\n            })\n\n\n    }\n\n    useEffect(() => {\n        let isSubscribed = true;\n        getSettings(isSubscribed);\n        return () => isSubscribed = false;\n    }, [])\n\n    async function PostSettings() {\n\n        if (!change) {\n\n            toastDispatch({\n                type: ADD,\n                payload: {\n                    content: 'No change.',\n                    type: 'info'\n                }\n            });\n            return\n        }\n\n        await fetch(`${authState.apiBaseUrl}/heating/`, {\n            headers,\n            method: 'POST',\n            body: JSON.stringify({...settings})\n        })\n            .then((response) => response.json().then((data) => {\n                if (response.status !== 200) {\n                    toastDispatch({\n                        type: ADD,\n                        payload: {\n                            content: 'You are not authorised to do that!',\n                            type: 'danger'\n                        }\n                    });\n                } else {\n                    setSettings(data);\n                    toastDispatch({\n                        type: ADD,\n                        payload: {\n                            content: 'Heating Settings Updated',\n                            type: 'success'\n                        }\n                    });\n                }\n            })).catch(e => {\n                setError(e);\n                toastDispatch({\n                    type: ADD,\n                    payload: {\n                        content: `Error while updating: ${e.message}`,\n                        type: 'danger'\n                    }\n                });\n            }).then(() => setChange(false));\n    }\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        PostSettings(settings);\n        // setFormHidden(true);\n    }\n\n    const handleTargetChange = (e) => {\n        setChange(true);\n        setSettings(settings => ({\n            ...settings,\n            target: e.target.value\n        }));\n    }\n\n    const handleTimeChange = (e) => {\n        setChange(true);\n        switch (e.target.name) {\n            case 'on_1':\n                setSettings(() => ({\n                    ...settings,\n                    on_1: e.target.value\n                }))\n                break;\n            case 'on_2':\n                setSettings(() => ({\n                    ...settings,\n                    on_2: e.target.value\n                }))\n                break;\n            case 'off_1':\n                setSettings(() => ({\n                    ...settings,\n                    off_1: e.target.value\n                }))\n                break;\n            case 'off_2':\n                setSettings(() => ({\n                    ...settings,\n                    off_2: e.target.value\n                }))\n                break;\n            default:\n                break;\n        }\n    }\n\n    return (\n        <>\n            <Header text={'Heating Settings'} back={'/heating'} settings={'/config'}/>\n            {loading ? <Loader classname=\"Loader Loader-trans\"/> :\n                error ? \"Something went wrong\" :\n                    <>\n\n                        <div className=\"Heating-settings\">\n                            <h2>Target: {settings.target}°C</h2>\n\n                            <form className=\"Heating-form\" onSubmit={handleSubmit}>\n                                <div><input name=\"target\" type=\"range\" min=\"6\" max=\"26\" onChange={handleTargetChange}\n                                            value={settings.target}\n                                            className=\"\"/></div>\n                                <div className={\"grid-2\"}>\n                                    <label>ON 1 </label><input name=\"on_1\" type=\"time\" className=\"timeInput\"\n                                                               value={settings.on_1} onChange={handleTimeChange}/>\n                                    <label>OFF 1 </label><input name=\"off_1\" type=\"time\"\n                                                                className=\"timeInput\"\n                                                                value={settings.off_1} onChange={handleTimeChange}/>\n                                    <label>ON 2 </label><input name=\"on_2\" type=\"time\" className=\"timeInput\"\n                                                               value={settings.on_2} onChange={handleTimeChange}/>\n                                    <label>OFF 2 </label><input name=\"off_2\" type=\"time\"\n                                                                className=\"timeInput\"\n                                                                value={settings.off_2} onChange={handleTimeChange}/>\n                                </div>\n                                <div><input type=\"submit\" className=\"btn\" value=\"SAVE\"/></div>\n                            </form>\n                        </div>\n                    </>}</>)\n}\n\nexport default HeatingSettings;","import React, {useEffect, useRef, useState} from 'react';\nimport {FontAwesomeIcon as Fa} from \"@fortawesome/react-fontawesome\";\nimport {faCheckCircle as farCheckCircle} from \"@fortawesome/free-regular-svg-icons\";\nimport {faCheckCircle} from \"@fortawesome/free-solid-svg-icons\";\n\nconst ListItem = ({item, deleteItem}) => {\n\n  const [deleteIcon, setDeleteIcon] = useState(farCheckCircle);\n\n  const itemRef = useRef(null);\n\n  const markCompleted = () => {\n    const itemContent = itemRef.current.children;\n    const itemText = itemContent[0];\n    itemText.style.textDecoration = 'line-through';\n    setDeleteIcon(faCheckCircle);\n  }\n\n  const unMarkCompleted = () => {\n    const itemContent = itemRef.current.children;\n    const itemText = itemContent[0];\n    itemText.style.textDecoration = 'none';\n    setDeleteIcon(farCheckCircle);\n  }\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    if (deleteIcon === farCheckCircle) {\n      markCompleted();\n    } else {\n      unMarkCompleted();\n    }\n  }\n\n  const handleDelete = (e) => {\n    e.preventDefault();\n    itemRef.current.style.position = 'fixed';\n    itemRef.current.style.animation = 'offToTop .5s ease forwards'\n    setTimeout(() => {\n      deleteItem(item.id);\n    }, 1000);\n  }\n\n  useEffect(()=>{\n    setDeleteIcon(farCheckCircle)\n    itemRef.current.scrollIntoView()\n  }, [])\n\n  return (\n      <div key={'div-' + item.id} ref={itemRef}\n           className=\"List-item flex-row-between\">\n        <h3 key={'h1-' + item.id} className=\"list-text-md\">{item.text}</h3>\n        <Fa key={'icon-' + item.id} icon={deleteIcon}\n            onClick={handleClick} onDoubleClick={handleDelete}\n            className=\"Delete-icon\"/>\n      </div>\n  );\n};\n\nexport default ListItem;","import React from 'react';\nimport {FontAwesomeIcon as Fa} from '@fortawesome/react-fontawesome';\nimport Task from \"./Task\";\nimport ListItem from \"./ListItem\";\n\nexport const TaskBlock = ({name, tasks, DeleteFunc}) => {\n\n\n  const theirTasks = tasks.filter(task => task.name === name)\n  // console.log(theirTasks)\n\n  return (<>\n    <div\n        className=\"Task-block\">\n      <h2>{name}</h2>\n      {theirTasks ? theirTasks.map((task) => {\n        task.text = task.task\n        return (\n            <ListItem item={task} deleteItem={DeleteFunc}/>\n        )\n      }) : <div className=\"text-white\">Nothing here!</div>}\n\n    </div>\n\n  </>)\n};\n","import React from 'react';\nimport {ADD, useToastContext} from \"../contexts/ToastContext\";\n\n\nexport const AddNewItem = ({handleSubmit, newItem, setNewItem, placeholderText, options, setID, disabled}) => {\n\n    const {toastDispatch} = useToastContext()\n\n    const handleOptionChange = (e) => {\n        const val = e.target.value\n        setID(val);\n    }\n\n    const fakeSubmit = (e) => {\n        e.preventDefault();\n        toastDispatch({\n            type: ADD,\n            payload: {\n                content: 'This feature is not currently supported',\n                type: 'danger'\n            }\n        });\n    }\n\n    return (\n        <form onSubmit={!disabled ? handleSubmit : fakeSubmit} className=\"Add-item on-from-bottom\">\n            {options ? <div className=\"Option-radios\">{options.map((name) => <label htmlFor={name[0] + 'Radio'} key={name[0]+'rad'}\n                                                                          className=\"Radio-container\">{name[1]}<input\n                type=\"radio\" id={name[0] + 'Radio'}\n                key={name[0]+'rad'}\n                name=\"name\" value={name[0]} required\n                onChange={handleOptionChange}/><span\n                className=\"checkmark\"/></label>)}</div> : ''}\n            <input type=\"text\"\n                   onChange={e => setNewItem(e.target.value)}\n                   value={newItem}\n                   placeholder={placeholderText}/>\n        </form>\n    );\n};\n","import React, {useEffect, useState} from 'react';\nimport {Header} from './Header';\nimport {TaskBlock} from './TaskBlock';\nimport {AddNewItem} from \"./AddNew\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Loader from \"./Loader\";\nimport FetchAuthService from \"../service/FetchService\";\nimport {useToastContext} from \"../contexts/ToastContext\";\n\n\nconst Tasks = () => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [tasks, setTasks] = useState({names: [], tasks: []})\n  const {authState} = React.useContext(AuthContext);\n  const [newTask, setNewTask] = useState('')\n  const [iDState, setIDState] = useState(0)\n  const {toastDispatch} = useToastContext()\n  const refObj = {}\n\n  useEffect(() => {\n        // setLoading(true)\n        FetchAuthService(\n            '/tasks/',\n            'GET',\n            authState,\n            setTasks)\n            .catch(e => setError(e))\n            .finally(() => {\n              setLoading(false)\n            })\n      }, [authState]\n  );\n\n  function arr_diff(a1, a2) {\n\n      let a = [], diff = [];\n\n      for (let i = 0; i < a1.length; i++) {\n        a[a1[i]] = true;\n      }\n\n      for (let i = 0; i < a2.length; i++) {\n        if (a[a2[i]]) {\n          delete a[a2[i]];\n        } else {\n          a[a2[i]] = true;\n        }\n      }\n\n      for (let k in a) {\n        diff.push(k);\n      }\n\n      return diff;\n    }\n\n  async function addTask(hm_id, task) {\n    const taskCheck = tasks\n    await FetchAuthService(\n        `/tasks/`,\n        'POST',\n        authState,\n        setTasks,\n        JSON.stringify({hm_id, task}),\n        toastDispatch)\n    console.log(taskCheck)\n    console.log(tasks)\n    const diff = arr_diff(taskCheck.tasks, tasks.tasks)\n    if (diff) {\n      console.log(diff)\n      for (let i = 0; i < diff.length; i++) {\n        console.log(diff[i].name)\n      }\n    }\n\n  }\n\n  async function deleteTask(id, name) {\n    setTasks(prevTasks => ({\n      ...prevTasks,\n      name: tasks.tasks.filter(x => x.id !== id)\n    }))\n    await FetchAuthService(\n        `/tasks/${id}`,\n        'DELETE',\n        authState,\n        setTasks,\n        JSON.stringify({id}),\n        toastDispatch)\n        .catch(e => setError(e))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newTask) {\n      addTask(iDState, newTask);\n      setNewTask('');\n    }\n  }\n\n\n  return <div className=\"Outer\">\n    <Header text={'Tasks'} back={'/'}/>\n    <div className=\"container\">\n      {error ? \"Failed to load tasks; are you authorised to view them?\" : loading ?\n\n          <Loader classname=\"Loader Loader-trans\"/> :\n\n          <div className=\"Task-blocks\">\n            {tasks ? tasks.names.map((name) => {\n              return (\n\n                  <div className=\"Task-block flex-col-center\" key={name + 'mb'}>\n                    <TaskBlock name={name[1]} tasks={tasks.tasks} key={name + 'tb'} DeleteFunc={deleteTask}\n                               AddFunc={addTask}/>\n                  </div>\n              )\n            }) : ''}</div>}\n\n      <AddNewItem handleSubmit={handleSubmit} newItem={newTask} setNewItem={setNewTask}\n                  placeholderText={\"New Task\"} options={tasks.names} setID={setIDState}/></div>\n  </div>\n\n}\n\nexport default Tasks;","import React from 'react';\nimport {DeleteIcon} from \"./Icons\";\nimport ListItem from \"./ListItem\";\n\nexport const ShoppingListBlock = ({list, deleteItem}) => {\n\n\n    return (\n        <div\n            className=\"List flex-col-start\">\n            {list.length ? list.map((item, index) => {\n                item.text = item.item_name\n                return (\n                    <ListItem item={item} deleteItem={deleteItem}/>\n                )\n            }) : <div className=\"text-white\">Nothing here!</div>}\n        </div>\n    )\n\n}\n","import React, {useEffect, useState} from 'react';\nimport {Header} from './Header';\nimport {ShoppingListBlock} from \"./ShoppingListBlock\";\nimport {AddNewItem} from \"./AddNew\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Loader from \"./Loader\";\nimport FetchAuthService from \"../service/FetchService\";\nimport {useToastContext} from \"../contexts/ToastContext\";\n\nconst Shopping = () => {\n  const [list, setList] = useState([])\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [newItem, setNewItem] = useState('')\n  const {authState} = React.useContext(AuthContext);\n  const {toastDispatch} = useToastContext()\n\n  useEffect(() => {\n    setLoading(true)\n    FetchAuthService('/shopping/', 'GET', authState, setList)\n        .catch(e => setError(e)).finally(() => setLoading(false))\n        .finally(() => setLoading(false))\n  }, [authState]);\n\n\n  async function addItem(item_name) {\n    await FetchAuthService(`/shopping/`,\n        'POST',\n        authState,\n        setList,\n        JSON.stringify({item_name}),\n        toastDispatch)\n        .catch(e => setError(e))\n        .finally(()=>setLoading(false))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newItem) {\n      addItem(newItem).catch();\n      setNewItem('');\n\n    }\n  }\n\n  async function deleteItem(id) {\n    setList(list.filter(x => x.id !== id))\n    await FetchAuthService(`/shopping/${id}`,\n        'DELETE',\n        authState,\n        setList,\n        JSON.stringify({id}),\n        toastDispatch\n    )\n        .catch(e => setError(e))\n  }\n\n\n  return (\n      <div className=\"Outer container\">\n        <Header text={'Shopping List'} back={'/'}/>\n        {loading ? <Loader classname=\"Loader Loader-trans\"/> :\n            error ? \"Failed to load shopping list\" : <ShoppingListBlock list={list} deleteItem={deleteItem}/>}\n        <AddNewItem handleSubmit={handleSubmit} newItem={newItem} setNewItem={setNewItem} placeholderText=\"New item\"/>\n      </div>\n  );\n};\n\n\nexport default Shopping;","import React from 'react';\nimport {Header} from './Header';\n\nfunction Cams(props) {\n    return (\n        <>\n        <Header text='Cams' back={'/'}/>\n        <div className={\"flex-col-center container\"}>\n            <div className=\"cam-title\"><h3>Driveway:</h3></div>\n            <img src={\"https://api.smarthome.mjfullstack.com/cam\"} className={\"cam-feed\"} alt={\"cam_feed\"}/>\n        </div>\n        </>\n    );\n}\n\nexport default Cams;","import React from 'react';\nimport {ADD, useToastContext} from \"../contexts/ToastContext\";\nimport {FontAwesomeIcon as Fa} from '@fortawesome/react-fontawesome';\nimport { faStickyNote as farStickyNote } from '@fortawesome/free-regular-svg-icons'\n\n\nexport const RecipeBlock = ({list, deleteItem, setCurrent}) => {\n\n    const showNotes = (recipe) => {\n        setCurrent(recipe)\n    }\n\n    return (\n        <div\n            className=\"List flex-col-start\">\n            {list.length ? list.map((item, index) => {\n                return (\n                    <div key={'div' + item.id} onClick={() => showNotes(item)}\n                         className=\"List-item Recipe flex-row-between\">\n                        <div className={\"\"}>\n                            <h1 key={'h1' + item.id} className=\"text-2xl ml-2\">{item.meal_name}</h1>\n                            <h6 key={'h6' + item.id} className=\"ml-2\">{item.ingredients}</h6></div>\n                        {/*<Fa key={'icon' + index} icon=\"check-circle\" onDoubleClick={() => deleteItem(item.id)}*/}\n                        {/*    className=\"deleteIcon\"/>*/}\n                        {item.notes ? <Fa key={'icon' + item.id} icon={farStickyNote} className=\"fa-2x\"/> : ''}\n                    </div>\n                )\n            }) : <div className=\"text-white\">Nothing here!</div>}\n                </div>\n                )\n\n            }\n","import React from 'react';\n\nconst PlusButton = ({callback}) => {\n  return (\n      <button onClick={callback}\n      className=\"Plus-button\">\n        +\n      </button>\n  );\n};\n\nexport default PlusButton;","import { useState } from \"react\";\n\nexport const useInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  return {\n    value,\n    setValue,\n    reset: () => setValue(\"\"),\n    bind: {\n      value,\n      onChange: event => {\n        setValue(event.target.value);\n      }\n    }\n  };\n};\n","import React from 'react';\n\nconst AreYouSure = ({callback, setShown}) => {\n  return (\n      <div className=\"Recipe-card\" onClick={()=>setShown(false)}>\n        <div className=\"sure\">\n          <h1>Are you sure?</h1>\n          <button onClick={callback}>Yes</button>\n        </div>\n      </div>\n  );\n};\n\nexport default AreYouSure;","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport {Header} from './Header';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {RecipeBlock} from \"./RecipeBlock\";\nimport Loader from \"./Loader\";\nimport FetchAuthService from \"../service/FetchService\";\nimport PlusButton from \"./PlusButton\";\nimport {useInput} from \"../hooks/input-hook\";\nimport AreYouSure from \"./AreYouSure\";\nimport {useToastContext} from \"../contexts/ToastContext\";\n\nexport const Recipes = () => {\n      const [list, setInfo] = useState([])\n      const [error, setError] = useState(null);\n      const [loading, setLoading] = useState(true)\n      // const [newItem, setNewItem] = useState('')\n      const [currentRecipe, setCurrentRecipe] = useState(null)\n      const [newRecipe, setNewRecipe] = useState(false)\n      const {value: meal_name, bind: bindMealName, reset: resetMealName} = useInput('');\n      const {value: ingredients, bind: bindIngredients, reset: resetIngredients} = useInput('');\n      const {value: notes, bind: bindNotes, reset: resetNotes} = useInput('');\n      const {authState} = React.useContext(AuthContext);\n      const [sure, setSure] = useState(false)\n      const recipeRef = useRef(null)\n      const {toastDispatch} = useToastContext()\n      const renderRecipeCard = () => {\n        return (\n\n            <div className=\"Recipe-card\" onClick={() => setCurrentRecipe(null)}>\n\n              <div className=\"note on-from-bottom\">\n                <div className=\"note-top\">\n                  <div><h1>{currentRecipe.meal_name}</h1></div>\n                  <div/>\n                </div>\n\n                <div className=\"note-bottom\">\n                  <div className=\"Recipe-card-content\">\n\n                    <h4>Ingredients:</h4>\n                    <p>{currentRecipe.ingredients}</p>\n                    {currentRecipe.notes ? <><h4>Notes:</h4>\n                      <p>{currentRecipe.notes}</p></> : ''}</div>\n                  <div className=\"remove-recipe\" onClick={handleDelete}>Remove Recipe</div>\n                </div>\n              </div>\n            </div>\n        )\n      }\n\n      const getRecipes = useCallback(() => {\n        setLoading(true)\n        FetchAuthService(\n            '/recipes/',\n            'GET',\n            authState,\n            setInfo)\n            .catch(e => setError(e))\n            .finally(() => {\n              setLoading(false)\n            })\n      }, [authState])\n\n      useEffect(() => {\n        getRecipes();\n      }, [getRecipes]);\n\n      const handleSubmit = (e) => {\n        e.preventDefault();\n        const data = {\n          meal_name,\n          ingredients,\n          notes\n        }\n        setLoading(true)\n        FetchAuthService(\n            '/recipes/',\n            'POST',\n            authState,\n            setInfo,\n            JSON.stringify(data))\n            .catch(e => setError(e))\n            .finally(() => {\n              setLoading(false)\n            })\n        resetMealName()\n        resetIngredients()\n        resetNotes()\n        getRecipes()\n        setNewRecipe(false)\n      }\n\n      async function deleteItem() {\n        FetchAuthService(\n            `/recipes/${recipeRef.current.id}/`,\n            'DELETE',\n            authState,\n            setInfo,\n            JSON.stringify({id: recipeRef.current.id}),\n            toastDispatch)\n            .catch(e => setError(e))\n            .finally(() => {\n              setLoading(false)\n            })\n      }\n\n      const handleDelete = () => {\n        recipeRef.current = currentRecipe\n        setSure(true)\n      }\n\n      const renderNewRecipeForm = () => {\n        return (\n            <div className=\"Recipe-card\">\n\n              <div className=\"note on-from-bottom\">\n                <div className=\"close-button\" onClick={() => setNewRecipe(false)}>&times;</div>\n\n                <div className=\"note-top\">\n                  <div><h1>Add a Recipe..</h1></div>\n                  <div/>\n                </div>\n\n                <div className=\"note-bottom\">\n                  <div className=\"Recipe-card-content\">\n                    <form className=\"New-recipe flex-col-center\" onSubmit={handleSubmit}>\n                      <div className=\"form-control\"><input type=\"text\" placeholder=\"Meal Name\" {...bindMealName} required/></div>\n                      <div className=\"form-control\"><textarea placeholder=\"Ingredients\" {...bindIngredients} required/></div>\n                      <div className=\"form-control\"><textarea placeholder=\"Notes\" {...bindNotes}/></div>\n                      <input type=\"submit\" value=\"Save\" className=\"btn-outline\"/>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n        )\n      }\n\n      return (\n          <div className=\"Outer container\">\n            <Header text={'Recipes'} back={'/'}/>\n            {loading ? <Loader classname=\"Loader Loader-trans\"/> :\n                error ? \"Failed to load recipes\" : <RecipeBlock list={list}\n                                                                deleteItem={deleteItem}\n                                                                setCurrent={setCurrentRecipe}/>}\n            <nav className=\"plus-button\">\n              <PlusButton callback={() => setNewRecipe(true)}/>\n            </nav>\n            {currentRecipe ? renderRecipeCard() :\n                newRecipe ? renderNewRecipeForm() : ''}\n\n            {sure ? <AreYouSure callback={deleteItem} setShown={setSure}/> : ''}\n\n          </div>\n      )\n    }\n;\n\nexport default Recipes;","import React, {useContext} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\"\nimport {useHistory} from \"react-router-dom\";\nimport {Header} from \"./Header\";\n\nconst Settings = () => {\n\n  const {authDispatch} = useContext(AuthContext);\n  let history = useHistory();\n\n  const setDarkMode = () => {\n    console.log(document.body.classList)\n    document.body.classList.toggle('dark-mode')\n  }\n\n\n  const logOut = (e) => {\n    e.preventDefault();\n    authDispatch({\n      type: \"LOGOUT\",\n    });\n    history.push('/');\n  }\n\n  return (\n      <div>\n        <Header text={\"Settings\"} back={'/'}/>\n        <div className=\"flex-col-center\">\n          <input type=\"submit\" className=\"btn\" onClick={setDarkMode} value=\"Dark Mode\"/>\n          <input type=\"submit\" className=\"btn\" onClick={logOut} value=\"Log Out\"/></div>\n      </div>\n  );\n};\n\nexport default Settings;","import React, {useEffect, useReducer, useState} from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport {\n  AuthContext,\n  initialState as initialAuthState,\n  reducer as authReducer\n} from \"./contexts/AuthContext\";\nimport MenuScreen from \"./components/Menu\";\nimport Login from \"./components/Login\";\nimport Heating from \"./components/Heating\";\nimport HeatingSettings from \"./components/HeatingSettings\";\nimport Tasks from \"./components/Tasks\";\nimport Shopping from \"./components/Shopping\";\nimport Cams from \"./components/Cams\";\nimport Recipes from \"./components/Recipes\";\nimport Settings from \"./components/Settings\";\nimport Loader from \"./components/Loader\";\nimport {apiBaseUrl} from \"./service/FetchService\";\n\n\nfunction App() {\n\n  const [authState, authDispatch] = useReducer(authReducer, initialAuthState)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n\n    if (token) {\n      fetch(`${apiBaseUrl}/check_token/`,\n          {method: 'POST', body: JSON.stringify({access_token: token, token_type: 'Bearer'})})\n          .then(response => response.json()\n              .then(data => {\n                if (response.status !== 200) {\n                  authDispatch({type: \"LOGOUT\"})\n                  setIsLoading(false)\n                } else {\n                  authDispatch({\n                    type: \"LOGIN\",\n                    payload: data\n                  });\n                }\n\n              })).catch((e) => {\n                authDispatch({type: \"LOGOUT\"});\n              }).finally(() => setIsLoading(false))\n    } else {\n      setIsLoading(false)\n    }\n  }, [])\n\n  return (\n      <AuthContext.Provider\n          value={{\n            authState,\n            authDispatch\n          }}>\n\n        <div className=\"App\">\n          {isLoading ? <Loader/> :\n              !authState.isAuthenticated ? <Login/> :\n                  <>\n                    <Route exact path=\"/\" component={MenuScreen}/>\n                    <Route path=\"/settings\" component={() => (<HeatingSettings />)}/>\n                    <Route path=\"/config\" component={Settings}/>\n                    <Route path=\"/heating\" component={Heating}/>\n                    <Route path=\"/tasks\" component={Tasks}/>\n                    <Route path=\"/shopping\" component={Shopping}/>\n                    <Route path=\"/cam\" component={Cams}/>\n                    <Route path=\"/recipes\" component={Recipes}/>\n                  </>}\n\n          <Route path=\"/map\" component={() => {\n            window.location.href = 'https://goo.gl/maps/SZnfFiGk2VhpDoWV9';\n            return <Redirect to=\"/\" />;\n          }}/>\n        </div>\n      </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport './css/components.css';\nimport './css/toast.css';\nimport './css/loaders.css';\nimport './css/note.css';\nimport './css/check-slider.css';\nimport './css/custom-range-input.css';\nimport App from './App';\nimport {library} from '@fortawesome/fontawesome-svg-core'\nimport {\n    faCog,\n    faPizzaSlice,\n    faFireAlt,\n    faShoppingCart,\n    faRoute,\n    faMusic,\n    faTasks,\n    faMoneyBillWave,\n    faArrowLeft,\n    faTimes,\n    faVideo,\n    faCheckCircle,\n    faClock,\n} from '@fortawesome/free-solid-svg-icons'\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {ToastProvider} from \"./contexts/ToastContext\";\n\nlibrary.add(faCog, faClock, faPizzaSlice, faFireAlt, faShoppingCart, faRoute, faMusic, faTasks, faMoneyBillWave, faArrowLeft, faTimes, faVideo, faCheckCircle)\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <ToastProvider>\n                <App/>\n            </ToastProvider>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}