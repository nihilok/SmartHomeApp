{"version":3,"sources":["contexts/AuthContext.js","components/DelayLink.js","components/MenuButton.js","components/Header.js","components/Menu.js","components/Loader.js","components/Login.js","components/ToastAlert.js","contexts/ToastContext.js","components/HeatingBlock.js","components/Heating.js","components/HeatingSettings.js","components/TaskBlock.js","components/AddNew.js","service/FetchService.js","components/Tasks.js","components/Icons.js","components/ShoppingListBlock.js","components/Shopping.js","components/Cams.js","components/RecipeBlock.js","components/Recipes.js","components/Settings.js","App.js","index.js"],"names":["AuthContext","React","createContext","initialState","isAuthenticated","token","localStorage","getItem","apiBaseUrl","reducer","state","action","type","setItem","JSON","stringify","payload","access_token","clear","DelayLink","props","delay","onDelayStart","onDelayEnd","replace","to","rest","timeout","history","useHistory","location","useLocation","useEffect","clearTimeout","onClick","e","pathname","defaultPrevented","preventDefault","setTimeout","push","defaultProps","MenuButton","icon","route","className","Header","text","back","settings","MenuScreen","Loader","classname","Login","useContext","authState","authDispatch","useState","username","password","isSubmitting","errorMessage","data","setData","handleInputChange","event","target","name","value","form","useRef","ref","onSubmit","evt","formData","FormData","current","fetch","method","body","then","res","status","json","resJson","catch","error","message","statusText","placeholder","onChange","ToastItem","t","toastDispatch","renderItem","toastRef","toastDiv","classList","toggle","REMOVE","id","content","role","aria-label","Toast","toast","useToastContext","toastContainer","map","ToastContext","ADD","toastReducer","Date","filter","ToastProvider","useReducer","toastData","Provider","children","createPortal","document","HeatingBlock","indoor_temp","outdoor_temp","on","program_on","info","setInfo","setError","loading","setLoading","colour","setColour","headers","a","response","console","log","prevData","handleSwitch","prevInfo","GetInfo","interval","setInterval","UpdateInfo","clearInterval","style","color","weather","checked","Heating","HeatingSettings","on_1","off_1","on_2","off_2","setSettings","change","setChange","getSettings","isSubscribed","Error","handleTimeChange","PostSettings","min","max","TaskBlock","tasks","DeleteFunc","theirTasks","task","onDoubleClick","AddNewItem","handleSubmit","newItem","setNewItem","placeholderText","options","setID","disabled","handleOptionChange","val","htmlFor","required","url","setFetchData","Headers","fetchInit","FetchAuthService","Tasks","names","setTasks","newTask","setNewTask","iDState","setIDState","addTask","hm_id","deleteTask","prevTasks","x","finally","AddFunc","DeleteIcon","func","ShoppingListBlock","list","deleteItem","length","item","index","item_name","Shopping","setList","addItem","Cams","src","alt","RecipeBlock","setCurrent","meal_name","ingredients","notes","farStickyNote","Recipes","currentRecipe","setCurrentRecipe","Settings","App","authReducer","initialAuthState","isLoading","setIsLoading","token_type","exact","path","component","window","href","library","add","faCog","faClock","faPizzaSlice","faFireAlt","faShoppingCart","faRoute","faMusic","faTasks","faMoneyBillWave","faArrowLeft","faTimes","faVideo","faCheckCircle","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.352a8231.chunk.js","sourcesContent":["import React from 'react'\n\nexport const AuthContext = React.createContext(); // added this\n\nexport const initialState = {\n    isAuthenticated: false,\n    // user: null,\n    token: localStorage.getItem('token'),\n    apiBaseUrl: `https://server.smarthome.mjfullstack.com`,\n    // apiBaseUrl: `http://localhost:8000`\n};\n\nexport const reducer = (state, action) => {\n    switch (action.type) {\n        case \"LOGIN\":\n            // localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n            localStorage.setItem(\"token\", JSON.stringify(action.payload.access_token));\n            return {\n                ...state,\n                isAuthenticated: true,\n                // user: action.payload.user,\n                token: action.payload.access_token\n            };\n        case \"LOGOUT\":\n            localStorage.clear();\n            return {\n                ...state,\n                isAuthenticated: false,\n                // user: null\n            };\n\n        default:\n            return state;\n    }\n};","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\n\n// Functional link component which delays page navigation\nexport const DelayLink = props => {\n  const { delay, onDelayStart, onDelayEnd, replace, to, ...rest } = props;\n  let timeout = null;\n  let history = useHistory();\n  let location = useLocation();\n\n  useEffect(() => {\n    return () => {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n    };\n  }, [timeout]);\n\n  const handleClick = e => {\n    // if trying to navigate to current page stop everything\n    if (location?.pathname === to) return;\n\n    onDelayStart(e, to);\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    e.preventDefault();\n\n    timeout = setTimeout(() => {\n      if (replace) {\n        history.replace(to);\n      } else {\n        history.push(to);\n      }\n      onDelayEnd(e, to);\n    }, delay);\n  };\n\n  return <Link {...rest} to={to} onClick={handleClick} />;\n};\n\nDelayLink.propTypes = {\n  // Milliseconds to wait before registering the click.\n  delay: PropTypes.number,\n  // Called after the link is clicked and before the delay timer starts.\n  onDelayStart: PropTypes.func,\n  // Called after the delay timer ends.\n  onDelayEnd: PropTypes.func,\n  // Replace history or not\n  replace: PropTypes.bool,\n  // Link to go to\n  to: PropTypes.string\n};\n\nDelayLink.defaultProps = {\n  replace: false,\n  delay: 0,\n  onDelayStart: () => {},\n  onDelayEnd: () => {}\n};\n\nexport default DelayLink;","import React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport DelayLink from \"./DelayLink\";\n\n\nexport const MenuButton = ({icon, route}) => {\n    return (\n        <DelayLink to={route} delay={100} className=\"menuBtn\">\n            <FontAwesomeIcon icon={icon}/>\n        </DelayLink>\n    );\n};\n","import * as React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {Link} from \"react-router-dom\";\n\n\nexport const Header = ({text, back, settings}) => {\n    return (\n        <div className=\"Header\">\n            <nav className=\"header-buttons flex-row-between container\">\n                {/*<div className=\"grid grid-cols-3 w-full mt-5\">*/}\n                <div className=\"flex-row-center\">\n                    {back ?\n                        <Link to={back}><FontAwesomeIcon icon=\"arrow-left\" className=\"headerBtn\"/></Link> : ''}</div>\n\n                <div className=\"flex-row-center\">\n                    {settings ?\n                        <Link to={settings}><FontAwesomeIcon icon=\"cog\" className=\"headerBtn\"/></Link>\n                        : ''}\n                </div>\n                {/*</div>*/}\n            </nav>\n            <div className=\"header-text\">\n                <h1>\n                    {text}\n                </h1>\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\nimport {MenuButton} from './MenuButton';\nimport {Header} from \"./Header\";\n\nconst MenuScreen = () => {\n    return (\n        <>\n            <Header text=\"smarthome.app\" settings={'/config'}/>\n            <div className=\"container flex-col-center\">\n                <nav className=\"Menu-buttons grid-3\">\n                    <MenuButton\n                        route=\"/heating\"\n                        icon=\"fire-alt\"/>\n                    <MenuButton\n                        route=\"/tasks\"\n                        icon=\"tasks\"/>\n                    <MenuButton\n                        route=\"/shopping\"\n                        icon=\"shopping-cart\"/>\n                    <MenuButton\n                        route=\"/map\"\n                        icon=\"route\"/>\n                    <MenuButton\n                        route=\"/cam\"\n                        icon=\"video\"/>\n                    <MenuButton\n                        route=\"/recipes\"\n                        icon=\"pizza-slice\"/>\n                </nav>\n            </div>\n        </>\n    );\n};\n\nexport default MenuScreen;","import React from 'react';\n\nconst Loader = ({classname='Loader'}) => {\n  return (\n      <div className={classname}>\n        <div className=\"lds-ring\">\n          <div/>\n          <div/>\n          <div/>\n          <div/>\n        </div>\n      </div>\n  );\n};\n\nexport default Loader;","import React, {useRef, useContext, useState} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Loader from \"./Loader\";\n\nconst Login = () => {\n    const {authState, authDispatch} = useContext(AuthContext)\n\n    const initialState = {\n        username: \"\",\n        password: \"\",\n        isSubmitting: false,\n        errorMessage: null\n    };\n\n    const [data, setData] = useState(initialState);\n    const handleInputChange = event => {\n        setData({\n            ...data,\n            [event.target.name]: event.target.value\n        });\n    };\n    const form = useRef(null)\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        setData({\n            ...data,\n            isSubmitting: true,\n            errorMessage: null\n        });\n        let formData = new FormData(form.current)\n        fetch(`${authState.apiBaseUrl}/token/`,\n            {\n                method: 'POST',\n                body: formData\n            }).then(res => {\n            if (res.status === 200) {\n                return res.json();\n            }\n            throw res;\n        })\n            .then(resJson => {\n                authDispatch({\n                    type: \"LOGIN\",\n                    payload: resJson\n                });\n            })\n            .catch(error => {\n                setData({\n                    ...data,\n                    isSubmitting: false,\n                    errorMessage: error.message || error.statusText\n                });\n            });\n    };\n\n    return (\n        <form ref={form} onSubmit={handleSubmit} className={\"Login-form\"}>\n            <div className=\"form-control\">\n                <input name=\"username\" type=\"text\"\n                       placeholder=\"Username\"\n                       value={data.username}\n                       onChange={handleInputChange}\n                       className={\"timeInput text-center\"}\n                />\n                <input name=\"password\" type=\"password\" placeholder=\"Password\"\n                       value={data.password}\n                       onChange={handleInputChange}\n                       className={\"timeInput text-center\"}/>\n            </div>\n            <input type=\"submit\" value=\"Sign In\"\n                   className={\"btn\"}/>\n            {data.isSubmitting ? <Loader /> : ''}\n        </form>\n    )\n};\n\nexport default Login;","import React, {useEffect, useRef} from 'react';\nimport {useToastContext, REMOVE} from '../contexts/ToastContext';\n\nexport const ToastItem = ({t, toastDispatch, renderItem}) => {\n\n  const toastRef = useRef(null)\n\n  useEffect(() => {\n    const removeSelf = () => {\n      const toastDiv = toastRef.current\n      if (toastDiv) {\n        toastDiv.classList.toggle('fade-out')\n        setTimeout(() => toastDispatch({type: REMOVE, payload: {id: t.id}}), 1000);\n      }\n    }\n    setTimeout(removeSelf, 2500)\n    // return () => clearTimeout(timeout)\n  }, [t.id, toastDispatch])\n\n  return (\n      <div className={`toast-container-item ${t.type ? t.type : 'success'}`} key={t.id} ref={toastRef}>\n        <div className=\"toast-text\">\n          {renderItem(t.content)}\n        </div>\n        <div\n            role=\"img\"\n            aria-label=\"close toast\"\n            className=\"toast-close\"\n            onClick={() => toastDispatch({type: REMOVE, payload: {id: t.id}})}\n        >\n          &times;\n        </div>\n      </div>\n  )\n}\n\nexport default function Toast({toast}) {\n  const {toastDispatch} = useToastContext();\n  const toastContainer = useRef()\n\n  function renderItem(content) {\n    if (typeof content === 'function') {\n      return content();\n    } else {\n      return content;\n    }\n  }\n\n  return (\n      <div className=\"toast\">\n        <div className=\"toast-container\" ref={toastContainer}>\n          {toast.map(t => {\n            return (\n                <ToastItem t={t} toastDispatch={toastDispatch} renderItem={renderItem} key={t.id}/>\n            );\n          })}\n        </div>\n      </div>\n  );\n}\n","import React, { createContext, useReducer, useContext } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Toast from \"../components/ToastAlert\";\n\nexport const ToastContext = createContext();\n\nconst initialState = [];\n\nexport const ADD = \"ADD\";\nexport const REMOVE = \"REMOVE\";\nexport const REMOVE_ALL = \"REMOVE_ALL\";\n\nexport const toastReducer = (state, action) => {\n  switch (action.type) {\n    case ADD:\n      return [\n        ...state,\n        {\n          id: +new Date(),\n          content: action.payload.content,\n          type: action.payload.type\n        }\n      ];\n    case REMOVE:\n      return state.filter(t => t.id !== action.payload.id);\n    case REMOVE_ALL:\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport const ToastProvider = props => {\n  const [toast, toastDispatch] = useReducer(toastReducer, initialState);\n  const toastData = { toast, toastDispatch };\n  return (\n    <ToastContext.Provider value={toastData}>\n      {props.children}\n\n      {createPortal(<Toast toast={toast} />, document.body)}\n    </ToastContext.Provider>\n  );\n};\n\nexport const useToastContext = () => {\n  return useContext(ToastContext);\n};\n","import React, {useEffect, useState} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {useToastContext, ADD} from \"../contexts/ToastContext\";\n// import FetchAuthService from '../service/FetchService';\n\n\nconst HeatingBlock = ({props}) => {\n  const initialState = {\n    indoor_temp: '',\n    outdoor_temp: '',\n    on: false,\n    program_on: false\n  }\n  const [info, setInfo] = useState(initialState)\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [colour, setColour] = useState('var(--primary-light)')\n  const {authState} = React.useContext(AuthContext);\n  const {toastDispatch} = useToastContext()\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${authState.token}`\n  }\n\n\n  async function GetInfo() {\n    setLoading(true);\n    await fetch(`${authState.apiBaseUrl}/heating/info/`).then(response =>\n        response.json().then((data) => {\n          if (error) {\n            setError(null)\n          }\n          setInfo(data);\n        })).catch(e => setError(e)).then(() => setLoading(false));\n  }\n\n  // async function GetInfo() {\n  //   await fetch(`${authState.apiBaseUrl}/heating/info/`).then(response =>\n  //       response.json().then((data) => {\n  //         data.on ? setColour('red') : setColour('var(--primary-light)');\n  //         setInfo(data);\n  //       })).catch((e) => setError(e));\n  // }\n\n  async function UpdateInfo() {\n    await fetch(`${authState.apiBaseUrl}/heating/info/temperature/`).then(response =>\n        response.json().then((data) => {\n          data.on ? setColour('red') : setColour('var(--primary-light)');\n          console.log(data)\n          setInfo(prevData => ({\n            ...prevData,\n            indoor_temp: data.indoor_temp,\n            on: data.on,\n            program_on: data.program_on\n          }));\n        })).catch((e) => setError(e));\n  }\n\n  const handleSwitch = async (e) => {\n    setInfo((prevInfo) => ({\n      ...prevInfo,\n      program_on: !info.program_on\n    }))\n    await fetch(`${authState.apiBaseUrl}/heating/on_off/`,\n        {headers}\n    )\n        .then(response =>\n            response.json().then((data) => {\n              console.log(data)\n              if (response.status !== 200) {\n                toastDispatch({\n                  type: ADD,\n                  payload: {\n                    content: 'You are not authorised to do that!',\n                    type: 'danger'\n                  }\n                });\n              } else {\n                if (info.program_on !== data.program_on) {\n                  setInfo((info) => ({\n                    ...info,\n                    program_on: data.program_on\n                  }));\n                }\n              }\n            }));\n  }\n\n  useEffect(() => {\n    GetInfo().catch(e=>setError(e));\n    const interval = setInterval(() => {\n      UpdateInfo().catch(e=>setError(e));\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return loading ? <div className=\"Heating-display\">\n        <div className=\"lds-ripple mt-10\">\n          <div/>\n          <div/>\n        </div>\n      </div> :\n      <div className=\"Heating-display\">\n        {error ? <p>Can't update heating info: ${error.message}</p> : ''}\n        <div className=\"Indoor-temp\" style={{color: colour}}>{info.indoor_temp}</div>\n        <div className=\"Other-info\">Outdoor: <span\n            className=\"value\">{info.outdoor_temp}</span></div>\n        <div className=\"Other-info\">Weather: <span\n            className=\"value\">{info.weather}</span></div>\n        <div className=\"flex-row-center\"><label className=\"switch\">\n          <input type=\"checkbox\" name=\"on_off\" onChange={handleSwitch} checked={info.program_on}/>\n          <span className=\"slider round\"/>\n        </label></div>\n      </div>;\n}\n\n\nexport default HeatingBlock;","import React from 'react';\nimport {Header} from './Header';\nimport HeatingBlock from './HeatingBlock';\n\n\nconst Heating = () => {\n\n    return (\n        <>\n            <Header text={'Central Heating'} back={'/'} settings={'/settings'}/>\n            <div className=\"container flex-col-center\">\n\n                <HeatingBlock/>\n            </div>\n        </>\n    );\n};\n\nexport default Heating;","import React, {useEffect, useState} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {Header} from \"./Header\";\nimport {useToastContext, ADD} from \"../contexts/ToastContext\";\nimport Loader from \"./Loader\";\n\n\nconst HeatingSettings = () => {\n\n    const initialState =\n        {\n            target: 20,\n            on_1: '',\n            off_1: '',\n            on_2: '',\n            off_2: '',\n            program_on: true\n        }\n    const [settings, setSettings] = useState(initialState)\n    const [change, setChange] = useState(false)\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(true)\n    const {authState} = React.useContext(AuthContext);\n    const {toastDispatch} = useToastContext()\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authState.token}`\n    }\n\n    const getSettings = async (isSubscribed) => {\n        setLoading(true);\n        return await fetch(`${authState.apiBaseUrl}/heating/conf/`, {\n            headers,\n            method: 'GET'\n        })\n\n            .then(res => {\n                if (res.status >= 400) {\n                    throw new Error(\"Bad response from server\")\n                }\n                res.json()\n                    .then(data => {\n                        if (isSubscribed) {\n                        setLoading(false)\n                        setSettings(data)\n                        return data\n                        }\n                    })\n            })\n\n\n    }\n\n    useEffect(() => {\n        let isSubscribed = true;\n        getSettings(isSubscribed);\n        return () => isSubscribed = false;\n    }, [])\n\n    async function PostSettings() {\n\n        if (!change) {\n\n            toastDispatch({\n                type: ADD,\n                payload: {\n                    content: 'No change.',\n                    type: 'info'\n                }\n            });\n            return\n        }\n\n        await fetch(`${authState.apiBaseUrl}/heating/`, {\n            headers,\n            method: 'POST',\n            body: JSON.stringify({...settings})\n        })\n            .then((response) => response.json().then((data) => {\n                if (response.status !== 200) {\n                    toastDispatch({\n                        type: ADD,\n                        payload: {\n                            content: 'You are not authorised to do that!',\n                            type: 'danger'\n                        }\n                    });\n                } else {\n                    setSettings(data);\n                    toastDispatch({\n                        type: ADD,\n                        payload: {\n                            content: 'Heating Settings Updated',\n                            type: 'success'\n                        }\n                    });\n                }\n            })).catch(e => {\n                setError(e);\n                toastDispatch({\n                    type: ADD,\n                    payload: {\n                        content: `Error while updating: ${e.message}`,\n                        type: 'danger'\n                    }\n                });\n            }).then(() => setChange(false));\n    }\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        PostSettings(settings);\n        // setFormHidden(true);\n    }\n\n    const handleTargetChange = (e) => {\n        setChange(true);\n        setSettings(settings => ({\n            ...settings,\n            target: e.target.value\n        }));\n    }\n\n    const handleTimeChange = (e) => {\n        setChange(true);\n        switch (e.target.name) {\n            case 'on_1':\n                setSettings(() => ({\n                    ...settings,\n                    on_1: e.target.value\n                }))\n                break;\n            case 'on_2':\n                setSettings(() => ({\n                    ...settings,\n                    on_2: e.target.value\n                }))\n                break;\n            case 'off_1':\n                setSettings(() => ({\n                    ...settings,\n                    off_1: e.target.value\n                }))\n                break;\n            case 'off_2':\n                setSettings(() => ({\n                    ...settings,\n                    off_2: e.target.value\n                }))\n                break;\n            default:\n                break;\n        }\n    }\n\n    return (\n        <>\n            <Header text={'Heating Settings'} back={'/heating'}/>\n            {loading ? <Loader classname=\"Loader Loader-trans\"/> :\n                error ? \"Something went wrong\" :\n                    <>\n\n                        <div className=\"Heating-settings\">\n                            <h2>Target: {settings.target}Â°C</h2>\n\n                            <form className=\"Heating-form\" onSubmit={handleSubmit}>\n                                <div><input name=\"target\" type=\"range\" min=\"6\" max=\"26\" onChange={handleTargetChange}\n                                            value={settings.target}\n                                            className=\"mb-5\"/></div>\n                                <div className={\"grid-2\"}>\n                                    <label>ON 1 </label><input name=\"on_1\" type=\"time\" className=\"timeInput text-black\"\n                                                               value={settings.on_1} onChange={handleTimeChange}/>\n                                    <label>OFF 1 </label><input name=\"off_1\" type=\"time\"\n                                                                className=\"timeInput text-black\"\n                                                                value={settings.off_1} onChange={handleTimeChange}/>\n                                    <label>ON 2 </label><input name=\"on_2\" type=\"time\" className=\"timeInput text-black\"\n                                                               value={settings.on_2} onChange={handleTimeChange}/>\n                                    <label>OFF 2 </label><input name=\"off_2\" type=\"time\"\n                                                                className=\"timeInput text-black\"\n                                                                value={settings.off_2} onChange={handleTimeChange}/>\n                                </div>\n                                <div><input type=\"submit\" className=\"btn\" value=\"SAVE\"/></div>\n                            </form>\n                        </div>\n                    </>}</>)\n}\n\nexport default HeatingSettings;","import React from 'react';\nimport {FontAwesomeIcon as Fa} from '@fortawesome/react-fontawesome';\n\nexport const TaskBlock = ({name, tasks, DeleteFunc}) => {\n\n\n  const theirTasks = tasks.filter(task => task.name === name)\n  // console.log(theirTasks)\n\n  return (<>\n    <div\n        className=\"Task-block\">\n      <h2>{name}</h2>\n      {tasks ? theirTasks.map((task) => {\n        return (\n            <div key={'div-' + task.id}\n                 className=\"List-item flex-row-between\">\n              <h3 key={'h1-' + task.id} className=\"list-text-md\">{task.task}</h3>\n              <Fa key={'icon-' + task.id} icon=\"check-circle\" onDoubleClick={() => DeleteFunc(task.id, task.name)}\n                  className=\"Delete-icon\"/>\n            </div>\n        )\n      }) : <div className=\"text-white\">Nothing here!</div>}\n\n    </div>\n\n  </>)\n};\n","import React from 'react';\nimport {ADD, useToastContext} from \"../contexts/ToastContext\";\n\n\nexport const AddNewItem = ({handleSubmit, newItem, setNewItem, placeholderText, options, setID, disabled}) => {\n\n    const {toastDispatch} = useToastContext()\n\n    const handleOptionChange = (e) => {\n        const val = e.target.value\n        setID(val);\n    }\n\n    const fakeSubmit = (e) => {\n        e.preventDefault();\n        toastDispatch({\n            type: ADD,\n            payload: {\n                content: 'This feature is not currently supported',\n                type: 'danger'\n            }\n        });\n    }\n\n    return (\n        <form onSubmit={!disabled ? handleSubmit : fakeSubmit} className=\"Add-item\">\n            {options ? <div className=\"Option-radios\">{options.map((name) => <label htmlFor={name[0] + 'Radio'} key={name[0]+'rad'}\n                                                                          className=\"Radio-container\">{name[1]}<input\n                type=\"radio\" id={name[0] + 'Radio'}\n                key={name[0]+'rad'}\n                name=\"name\" value={name[0]} required\n                onChange={handleOptionChange}/><span\n                className=\"checkmark\"/></label>)}</div> : ''}\n            <input type=\"text\"\n                   onChange={e => setNewItem(e.target.value)}\n                   value={newItem}\n                   placeholder={placeholderText}/>\n        </form>\n    );\n};\n","import {ADD} from \"../contexts/ToastContext\";\n\nexport const apiBaseUrl = 'https://server.smarthome.mjfullstack.com'\n// export const apiBaseUrl = 'http://localhost:8000'\n\nasync function FetchAuthService(url,\n                                method,\n                                authState,\n                                setFetchData,\n                                body = null,\n                                toastDispatch = null) {\n  const headers = new Headers({\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${authState.token}`\n  })\n  let fetchInit = {headers, method}\n  if (body) {\n    fetchInit = {\n      ...fetchInit,\n      body: body\n    }\n  }\n  await fetch(apiBaseUrl + url, fetchInit)\n      .then((res) => res.json()\n          .then(data => {\n            if (res.status > 400) {\n              if (toastDispatch) {\n                toastDispatch({\n                        type: ADD,\n                        payload: {\n                            content: 'You are not authorised to do that!',\n                            type: 'danger'\n                        }\n                    });\n              }\n              return\n            }\n            setFetchData(data)\n          })\n      )\n}\n\nexport default FetchAuthService;","import React, {useEffect, useState} from 'react';\nimport {Header} from './Header';\nimport {TaskBlock} from './TaskBlock';\nimport {AddNewItem} from \"./AddNew\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Loader from \"./Loader\";\nimport FetchAuthService from \"../service/FetchService\";\nimport {useToastContext} from \"../contexts/ToastContext\";\n\n\nexport const Tasks = () => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [tasks, setTasks] = useState({names: [], tasks: []})\n  const {authState} = React.useContext(AuthContext);\n  const [newTask, setNewTask] = useState('')\n  const [iDState, setIDState] = useState(0)\n  const {toastDispatch} = useToastContext()\n\n  useEffect(() => {\n        // setLoading(true)\n        FetchAuthService(\n            '/tasks/',\n            'GET',\n            authState,\n            setTasks)\n            .catch(e => setError(e))\n            .finally(() => {\n              setLoading(false)\n            })\n      }, [authState]\n  );\n\n  async function addTask(hm_id, task) {\n    await FetchAuthService(\n        `/tasks/`,\n        'POST',\n        authState,\n        setTasks,\n        JSON.stringify({hm_id, task}))\n  }\n\n  async function deleteTask(id, name) {\n    setTasks(prevTasks => ({\n      ...prevTasks,\n      name: tasks.tasks.filter(x => x.id !== id)\n    }))\n    await FetchAuthService(\n        `/tasks/${id}`,\n        'DELETE',\n        authState,\n        setTasks,\n        JSON.stringify({id}),\n        toastDispatch)\n        .catch(e => setError(e))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newTask) {\n      addTask(iDState, newTask);\n      setNewTask('');\n    }\n  }\n\n\n  return <div className=\"Outer\">\n    <Header text={'Tasks'} back={'/'}/>\n    <div className=\"container\">\n      {error ? \"Failed to load tasks; are you authorised to view them?\" : loading ?\n\n          <Loader classname=\"Loader Loader-trans\"/> :\n\n          <div className=\"Task-blocks\">\n            {tasks ? tasks.names.map((name) => {\n              return (\n\n                  <div className=\"Task-block flex-col-center\" key={name + 'mb'}>\n                    <TaskBlock name={name[1]} tasks={tasks.tasks} key={name + 'tb'} DeleteFunc={deleteTask}\n                               AddFunc={addTask}/>\n                  </div>\n              )\n            }) : ''}</div>}\n\n      <AddNewItem handleSubmit={handleSubmit} newItem={newTask} setNewItem={setNewTask}\n                  placeholderText={\"Add a New Task\"} options={tasks.names} setID={setIDState}/></div>\n  </div>\n\n}\n","import React from 'react';\nimport {FontAwesomeIcon as Fa} from \"@fortawesome/react-fontawesome\";\n// import useLongPress from \"../hooks/useLongPress\";\n\nconst DeleteIcon = ({func, id, icon}) => {\n\n\n    // const onLongPress = () => {\n    //     func(id)\n    // };\n    //\n    // const onClick = () => {\n    //     console.log('click is triggered')\n    // }\n    //\n    // const defaultOptions = {\n    //     shouldPreventDefault: true,\n    //     delay: 200,\n    // };\n    // const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\n    //\n\n    return (\n        <Fa onClick={() => {\n            func(id)\n        }} icon={icon} className=\"Delete-icon\"/>\n    );\n}\n\nexport {DeleteIcon};","import React from 'react';\nimport {DeleteIcon} from \"./Icons\";\n\nexport const ShoppingListBlock = ({list, deleteItem}) => {\n\n\n    return (\n        <div\n            className=\"List flex-col-start\">\n            {list.length ? list.map((item, index) => {\n                return (\n                    <div key={'div' + index}\n                         className=\"List-item flex-row-between\">\n                        <h2 key={'h1' + index} className=\"text-2xl ml-2\">{item.item_name}</h2>\n                        <DeleteIcon key={'icon' + index} icon=\"check-circle\" func={deleteItem} id={item.id}\n                            className=\"Delete-icon\"/>\n                    </div>\n                )\n            }) : <div className=\"text-white\">Nothing here!</div>}\n        </div>\n    )\n\n}\n","import React, {useEffect, useState} from 'react';\nimport {Header} from './Header';\nimport {ShoppingListBlock} from \"./ShoppingListBlock\";\nimport {AddNewItem} from \"./AddNew\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport Loader from \"./Loader\";\nimport FetchAuthService from \"../service/FetchService\";\nimport {useToastContext} from \"../contexts/ToastContext\";\n\nexport const Shopping = () => {\n  const [list, setList] = useState([])\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [newItem, setNewItem] = useState('')\n  const {authState} = React.useContext(AuthContext);\n  const {toastDispatch} = useToastContext()\n\n  useEffect(() => {\n    setLoading(true)\n    FetchAuthService('/shopping/', 'GET', authState, setList)\n        .catch(e => setError(e)).finally(() => setLoading(false))\n        .finally(() => setLoading(false))\n  }, [authState]);\n\n\n  async function addItem(item_name) {\n    await FetchAuthService(`/shopping/`,\n        'POST',\n        authState,\n        setList,\n        JSON.stringify({item_name}),\n        toastDispatch)\n        .catch(e => setError(e))\n        .finally(()=>setLoading(false))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newItem) {\n      addItem(newItem).catch();\n      setNewItem('');\n\n    }\n  }\n\n  async function deleteItem(id) {\n    setList(list.filter(x => x.id !== id))\n    await FetchAuthService(`/shopping/${id}`,\n        'DELETE',\n        authState,\n        setList,\n        JSON.stringify({id}),\n        toastDispatch\n    )\n        .catch(e => setError(e))\n  }\n\n\n  return (\n      <div className=\"Outer container\">\n        <Header text={'Shopping List'} back={'/'}/>\n        {loading ? <Loader classname=\"Loader Loader-trans\"/> :\n            error ? \"Failed to load shopping list\" : <ShoppingListBlock list={list} deleteItem={deleteItem}/>}\n        <AddNewItem handleSubmit={handleSubmit} newItem={newItem} setNewItem={setNewItem} placeholderText=\"New item\"/>\n      </div>\n  );\n};\n","import React from 'react';\nimport {Header} from './Header';\n\nfunction Cams(props) {\n    return (\n        <>\n        <Header text='Cams' back={'/'}/>\n        <div className={\"flex flex-col justify-center items-center h-full\"}>\n            <img src={\"https://api.smarthome.mjfullstack.com/cam\"} className={\"rounded-3xl\"} alt={\"cam_feed\"}/>\n        </div>\n        </>\n    );\n}\n\nexport default Cams;","import React from 'react';\nimport {ADD, useToastContext} from \"../contexts/ToastContext\";\nimport {FontAwesomeIcon as Fa} from '@fortawesome/react-fontawesome';\nimport { faStickyNote as farStickyNote } from '@fortawesome/free-regular-svg-icons'\n\n\nexport const RecipeBlock = ({list, deleteItem, setCurrent}) => {\n\n    const showNotes = (recipe) => {\n        setCurrent(recipe)\n    }\n\n    return (\n        <div\n            className=\"List flex-col-start\">\n            {list.length ? list.map((item, index) => {\n                return (\n                    <div key={'div' + item.id} onClick={() => showNotes(item)}\n                         className=\"List-item Recipe flex-row-between\">\n                        <div className={\"\"}>\n                            <h1 key={'h1' + item.id} className=\"text-2xl ml-2\">{item.meal_name}</h1>\n                            <h6 key={'h6' + item.id} className=\"ml-2\">{item.ingredients}</h6></div>\n                        {/*<Fa key={'icon' + index} icon=\"check-circle\" onDoubleClick={() => deleteItem(item.id)}*/}\n                        {/*    className=\"deleteIcon\"/>*/}\n                        {item.notes ? <Fa key={'icon' + item.id} icon={farStickyNote} className=\"fa-2x\"/> : ''}\n                    </div>\n                )\n            }) : <div className=\"text-white\">Nothing here!</div>}\n                </div>\n                )\n\n            }\n","import React, {useEffect, useState} from 'react';\nimport {Header} from './Header';\nimport {AddNewItem} from \"./AddNew\";\nimport {AuthContext} from \"../contexts/AuthContext\";\nimport {RecipeBlock} from \"./RecipeBlock\";\nimport Loader from \"./Loader\";\nimport FetchAuthService from \"../service/FetchService\";\n\n\nexport const Recipes = () => {\n  const [list, setInfo] = useState([])\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true)\n  const [newItem, setNewItem] = useState('')\n  const [currentRecipe, setCurrentRecipe] = useState(null)\n  const {authState} = React.useContext(AuthContext);\n\n  const renderRecipeCard = () => {\n    return (\n        <div className=\"Recipe-card\">\n\n          <div className=\"Recipe-card-inner container\">\n            <div className=\"close-button\">\n              <div onClick={() => {\n                setCurrentRecipe(null)\n              }}>&times;</div>\n            </div>\n            <div className=\"Recipe-card-content flex-col-center\">\n              <h1>{currentRecipe.meal_name}</h1>\n              <h4>Ingredients:</h4>\n              <p>{currentRecipe.ingredients}</p>\n              {currentRecipe.notes ? <><h4>Notes:</h4>\n                <p>{currentRecipe.notes}</p></> : ''}</div>\n          </div>\n        </div>\n    )\n  }\n\n  useEffect(() => {\n    setLoading(true)\n    FetchAuthService(\n        '/recipes/',\n        'GET',\n        authState,\n        setInfo)\n        .catch(e => setError(e))\n        .finally(() => {\n          setLoading(false)\n        })\n  }, [authState]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newItem) {\n      // addItem(newItem).catch(e=>setError(e.message));\n      setNewItem('');\n    }\n  }\n\n  async function deleteItem(id, name) {\n    await fetch(`https://server.smarthome.mjfullstack.com/recipes/${id}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authState.token}`\n      },\n      method: 'DELETE',\n      body: JSON.stringify({id})\n    })\n        .then(response =>\n            response.json().then((data) => {\n              setInfo(data)\n            }));\n  }\n\n  return (\n      <div className=\"Outer container\">\n        <Header text={'Recipes'} back={'/'}/>\n        {loading ? <Loader classname=\"Loader Loader-trans\"/> :\n            error ? \"Failed to load recipes\" : <RecipeBlock list={list}\n                                                            deleteItem={deleteItem}\n                                                            setCurrent={setCurrentRecipe}/>}\n        <AddNewItem handleSubmit={handleSubmit}\n                    newItem={newItem} setNewItem={setNewItem}\n                    placeholderText={\"New Recipe\"}\n                    disabled={true}/>\n        {currentRecipe ? renderRecipeCard('test') : ''}\n      </div>\n  )\n}\n;\n","import React, {useContext} from 'react';\nimport {AuthContext} from \"../contexts/AuthContext\"\nimport {useHistory} from \"react-router-dom\";\nimport {Header} from \"./Header\";\n\nconst Settings = () => {\n\n  const {authDispatch} = useContext(AuthContext);\n  let history = useHistory();\n\n  const setDarkMode = () => {\n    console.log(document.body.classList)\n    document.body.classList.toggle('dark-mode')\n  }\n\n\n  const logOut = (e) => {\n    e.preventDefault();\n    authDispatch({\n      type: \"LOGOUT\",\n    });\n    history.push('/');\n  }\n\n  return (\n      <div>\n        <Header text={\"Settings\"} back={'/'}/>\n        <div className=\"flex-col-center\">\n          <input type=\"submit\" className=\"btn\" onClick={setDarkMode} value=\"Dark Mode\"/>\n          <input type=\"submit\" className=\"btn\" onClick={logOut} value=\"Log Out\"/></div>\n      </div>\n  );\n};\n\nexport default Settings;","import React, {useEffect, useReducer, useState} from \"react\";\nimport {\n  AuthContext,\n  initialState as initialAuthState,\n  reducer as authReducer\n} from \"./contexts/AuthContext\";\nimport MenuScreen from \"./components/Menu\";\nimport {Route} from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Heating from \"./components/Heating\";\nimport HeatingSettings from \"./components/HeatingSettings\";\nimport {Tasks} from \"./components/Tasks\";\nimport {Shopping} from \"./components/Shopping\";\nimport Cams from \"./components/Cams\";\nimport {Recipes} from \"./components/Recipes\";\nimport Settings from \"./components/Settings\";\nimport Loader from \"./components/Loader\";\nimport {apiBaseUrl} from \"./service/FetchService\";\n\n\nfunction App() {\n\n  const [authState, authDispatch] = useReducer(authReducer, initialAuthState)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect\n  (() => {\n    const token = localStorage.getItem('token')\n\n    if (token) {\n      fetch(`${apiBaseUrl}/check_token/`,\n          {method: 'POST', body: JSON.stringify({access_token: token, token_type: 'Bearer'})})\n          .then(response => response.json()\n              .then(data => {\n                if (response.status !== 200) {\n                  setIsLoading(false)\n                } else {\n                  authDispatch({\n                    type: \"LOGIN\",\n                    payload: data\n                  });\n                }\n\n              })).catch((e) => {\n                authDispatch({type: \"LOGOUT\"});\n              }).then(() => setIsLoading(false))\n    } else {\n      setIsLoading(false)\n    }\n  }, [])\n\n  return (\n      <AuthContext.Provider\n          value={{\n            authState,\n            authDispatch\n          }}>\n\n        <div className=\"App\">\n          {isLoading ? <Loader/> :\n              !authState.isAuthenticated ? <Login/> :\n                  <>\n                    <Route exact path=\"/\" component={MenuScreen}/>\n                    <Route path=\"/settings\" component={() => (<HeatingSettings />)}/>\n                    <Route path=\"/config\" component={Settings}/>\n                    <Route path=\"/heating\" component={Heating}/>\n                    <Route path=\"/tasks\" component={Tasks}/>\n                    <Route path=\"/shopping\" component={Shopping}/>\n                    <Route path=\"/cam\" component={Cams}/>\n                    <Route path=\"/recipes\" component={Recipes}/>\n                  </>}\n\n          <Route path=\"/map\" component={() => {\n            window.location.href = 'https://goo.gl/maps/SZnfFiGk2VhpDoWV9';\n            return null;\n          }}/>\n        </div>\n      </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport './css/components.css';\nimport './css/toast.css';\nimport './css/loaders.css';\nimport './css/check-slider.css';\nimport './css/custom-range-input.css';\nimport App from './App';\nimport {library} from '@fortawesome/fontawesome-svg-core'\nimport {\n    faCog,\n    faPizzaSlice,\n    faFireAlt,\n    faShoppingCart,\n    faRoute,\n    faMusic,\n    faTasks,\n    faMoneyBillWave,\n    faArrowLeft,\n    faTimes,\n    faVideo,\n    faCheckCircle,\n    faClock,\n} from '@fortawesome/free-solid-svg-icons'\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {ToastProvider} from \"./contexts/ToastContext\";\n\nlibrary.add(faCog, faClock, faPizzaSlice, faFireAlt, faShoppingCart, faRoute, faMusic, faTasks, faMoneyBillWave, faArrowLeft, faTimes, faVideo, faCheckCircle)\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <ToastProvider>\n                <App/>\n            </ToastProvider>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}